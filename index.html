<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Emmanuel Digital Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f6fb;
}
header{
  background:#1e293b;
  color:white;
  padding:25px;
}
.container{
  display:flex;
  gap:20px;
  padding:20px;
}
.about{
  width:30%;
  background:white;
  padding:20px;
  border-radius:10px;
}
.products{
  width:70%;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:15px;
}
.card{
  background:white;
  padding:15px;
  border-radius:10px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
}
.card button{
  width:100%;
  padding:10px;
  border:none;
  background:#22c55e;
  color:white;
  border-radius:6px;
  cursor:pointer;
}
.card button:hover{
  background:#16a34a;
}
#formSection{
  display:none;
  background:white;
  margin:20px;
  padding:20px;
  border-radius:10px;
}
input,select{
  width:100%;
  padding:10px;
  margin-bottom:10px;
}
.whatsapp{
  display:none;
  background:#25D366;
  color:white;
  padding:12px;
  text-align:center;
  border-radius:8px;
  text-decoration:none;
  font-weight:bold;
}
footer{
  text-align:center;
  padding:20px;
  color:#555;
}
</style>
</head>

<body>

<header>
  <h1>Emmanuel Digital Store</h1>
  <p>Produits numériques • Formations • Packs digitaux</p>
</header>

<div class="container">
  <div class="about">
    <h2>À propos</h2>
    <p>
      Emmanuel Digital Store propose des produits numériques,
      formations professionnelles et packs complets à prix accessibles.
    </p>
    <p><strong>Paiement via WhatsApp après commande.</strong></p>
  </div>

  <div class="products" id="products"></div>
</div>

<div id="formSection">
  <h2>Finaliser la commande</h2>

  <form onsubmit="submitOrder(event)">
    <input type="text" id="name" placeholder="Nom et prénom" required>
    <input type="email" id="email" placeholder="Adresse email" required>
    <input type="tel" id="phone" placeholder="Numéro WhatsApp" required>
    <input type="text" id="country" placeholder="Pays de résidence" required>

    <button type="submit">Valider</button>
  </form>

  <br>
  <a id="whatsappLink" class="whatsapp" target="_blank">
    Finaliser sur WhatsApp
  </a>
</div>

<footer>
  © 2025 Emmanuel Digital Store
</footer>

<script>
// ================= PRODUITS (33) =================
var products = [];
for (var i = 1; i <= 29; i++) {
  products.push({
    name: "Produit Digital " + i,
    price_fcfa: 2500,
    price_eur: 3.8
  });
}

products.push(
  { name:"Mini Pack Formations", price_fcfa:5000, price_eur:7.6 },
  { name:"Mini Pack Business", price_fcfa:5000, price_eur:7.6 },
  { name:"Mini Pack Logiciels", price_fcfa:5000, price_eur:7.6 },
  { name:"SUPER PACK GLOBAL", price_fcfa:15000, price_eur:22.9 }
);

// ================= AFFICHAGE =================
var container = document.getElementById("products");
var selectedProduct = "";

for (var i = 0; i < products.length; i++) {
  (function(p){
    var card = document.createElement("div");
    card.className = "card";
    card.innerHTML =
      "<h3>"+p.name+"</h3>" +
      "<p><strong>"+p.price_fcfa+" FCFA</strong> (~"+p.price_eur+" €)</p>" +
      "<button>Acheter</button>";

    card.querySelector("button").onclick = function(){
      selectedProduct = p.name;
      document.getElementById("formSection").style.display = "block";
      window.scrollTo(0, document.body.scrollHeight);
    };

    container.appendChild(card);
  })(products[i]);
}

// ================= FORMULAIRE =================
function submitOrder(e){
  e.preventDefault();

  var name = document.getElementById("name").value;
  var email = document.getElementById("email").value;
  var phone = document.getElementById("phone").value;
  var country = document.getElementById("country").value;

  var orderId = "CMD-" + Math.floor(Math.random()*100000);

  var message =
    "Bonjour Emmanuel,%0A%0A" +
    "Je souhaite finaliser ma commande.%0A%0A" +
    "Produit : " + selectedProduct + "%0A" +
    "Nom : " + name + "%0A" +
    "Email : " + email + "%0A" +
    "Pays : " + country + "%0A" +
    "Commande : " + orderId;

  var link = "https://wa.me/241066509602?text=" + message;

  var wa = document.getElementById("whatsappLink");
  wa.href = link;
  wa.style.display = "block";
}
</script>

</body>
</html>
